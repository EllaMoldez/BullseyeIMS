<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>

<!-- meta tags -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- bootstrap css -->
<link rel="stylesheet" href="../static/css/bootstrap.min.css"
	th:href="@{/css/bootstrap.min.css}">
<link rel="stylesheet" href="../static/css/main.css"
	th:href="@{/css/main.css}">

<title>Bullseye Inventory Management System</title>
</head>

<body>
	<!-- Navbar -->
	<div th:insert="/fragments/navbar :: navbar"></div>

	<!-- sidebar -->
	<div class="container-fluid" id="main">
		<div class="row row-offcanvas row-offcanvas-left ">
			<div class="col-md-3 col-lg-2 sidebar-offcanvas vh-100 bg-light pl-0"
				id="sidebar" role="navigation">
				<div th:insert="/fragments/sidebar :: sidebar"></div>
			</div>

			<div class="col main pt-5 mt-3">
				<div
					class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3">
					<h1 class="display-5 d-none d-sm-block h3">Suppliers</h1>
					<div class="btn">
						<button type="button" class="btn btn-sm btn-secondary">Export
							List</button>
						<a th:href="@{/supplier/create}">
							<button type="button" class="btn btn-sm btn-primary">New
								Supplier</button>
						</a>
					</div>
				</div>

				<div>
					<div class="table-responsive">
						<table class="table table-striped">
							<thead class="thead-inverse">
								<tr>
									<th><a
										th:href="@{'/page/' + ${currentPage} + '?sortField=supId&sortDirection=' + ${reverseSortDirection}}">Supplier
											ID</a></th>
									<th><a
										th:href="@{'/page/' + ${currentPage} + '?sortField=supName&sortDirection=' + ${reverseSortDirection}}">Name</a></th>
									<th>Address</th>
									<th><a
										th:href="@{'/page/' + ${currentPage} + '?sortField=supCountry&sortDirection=' + ${reverseSortDirection}}">Country</a></th>
									<th><a
										th:href="@{'/page/' + ${currentPage} + '?sortField=supEmail&sortDirection=' + ${reverseSortDirection}}">
											Email</a></th>
									<th>Contact</th>
									<th></th>
								</tr>
							</thead>
							<tbody>
								<tr th:each="supplier : ${supplierList}">
									<td th:text="${supplier.supId}">Supplier ID</td>
									<td th:text="${supplier.supName}">Name</td>
									<td
										th:text="${supplier.supAddress} + ' ' + ${supplier.supCity} + ' ' + ${supplier.supStateOrProvince} + ' ' + ${supplier.supPostalCode}">Address</td>
									<td th:text="${supplier.supCountry}">Country</td>
									<td th:text="${supplier.supEmail}">Email</td>
									<td th:text="${supplier.supContact}">Contact</td>
									
									<td><a th:href="@{'/supplier/edit/' + ${supplier.supId}}">
											<button type="button" class="btn btn-sm btn-primary">
												Edit</button>
									</a>&nbsp; <a th:href="@{'/supplier/delete/' + ${supplier.supId}}"
										class="btn btn-sm btn-danger" id="deleteButton">Delete</a></td>
								</tr>
							</tbody>
						</table>

						<!-- pagination -->

						<div th:if="${totalPages > 1}"
							class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3">
							<div class="row col-sm-10">
								<div class="col-sm-2 ">Total Rows: [[${totalItems}]]</div>
								<div class="col-sm-1">
									<span th:each="i: ${#numbers.sequence(1, totalPages)}">
										<a th:if="${currentPage != i}"
										th:href="@{'/page/' + ${i}+ '?sortField=' + ${sortField} + '&sortDirection=' + ${sortDirection}}">[[${i}]]</a>
										<span th:unless="${currentPage != i}">[[${i}]]</span> &nbsp;
										&nbsp;
									</span>
								</div>
								<div class="col-sm-1">
									<a th:if="${currentPage < totalPages}"
										th:href="@{'/page/' + ${currentPage + 1}+ '?sortField=' + ${sortField} + '&sortDirection=' + ${sortDirection}}">Next</a>
									<span th:unless="${currentPage < totalPages}">Next</span>
								</div>

								<div class="col-sm-1">
									<a th:if="${currentPage < totalPages}"
										th:href="@{'/page/' + ${totalPages}+ '?sortField=' + ${sortField} + '&sortDirection=' + ${sortDirection}}">Last</a>
									<span th:unless="${currentPage < totalPages}">Last</span>
								</div>
							</div>
						</div>
						<!-- end of pagination -->
					</div>
				</div>
			</div>
		</div>
	</div>

	<!--footer-->
	<footer class="container-fluid fixed-bottom">
		<p class="text-center">Â©2022 Bullseye IMS. Developed by Dartworks</p>
	</footer>
	<!-- end of footer -->

	<!-- modal -->
	<div class="modal fade" tabindex="-1" role="dialog" id="deleteModal"
		aria-labelledby="deleteModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="deleteModalLabel">Delete Supplier</h5>
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<p>Are you sure you want to delete this supplier? This process
						cannot be undone.</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary"
						data-dismiss="modal">Close</button>
					<a href="" class="btn btn-primary" id="delRef">Delete</a>

				</div>
			</div>
		</div>
	</div>
	<!-- end of modal -->

	<!-- Javascripts -->
	<script src="https://kit.fontawesome.com/a69fb56bf5.js"
		crossorigin="anonymous"></script>
	<script type="text/javascript" ssrc="../static/js/main.js"
		th:src="@{/js/main.js}"></script>

	<script
		src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"
		integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
		crossorigin="anonymous"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js"
		integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct"
		crossorigin="anonymous"></script>
	<!-- end of Javascripts -->

</body>
</html>